# Copyright 2021 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# EC chip configuration: IT83102
CONFIG_BOARD_NEREID=y
CONFIG_CROS_FLASH_IT8XXX2=y
CONFIG_CROS_SYSTEM_IT8XXX2=y

CONFIG_MAIN_STACK_SIZE=1536
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1200
CONFIG_TASK_CHARGER_STACK_SIZE=1280
CONFIG_TASK_USB_CHG_STACK_SIZE=1024
CONFIG_TASK_PD_STACK_SIZE=1536

# AP override: IT8xxx2 host interface is not yet supported
# TODO(b:211772002) enable AP
CONFIG_AP=n
CONFIG_ESPI=n

# Sensor drivers
CONFIG_PLATFORM_EC_ACCELGYRO_BMI_COMM_I2C=y
CONFIG_PLATFORM_EC_ACCELGYRO_BMI3XX=y
CONFIG_PLATFORM_EC_ACCEL_BMA4XX=y

# Keyboard - disabled until host interface is available (b:211772002)
CONFIG_CROS_KB_RAW_ITE=n
CONFIG_PLATFORM_EC_KEYBOARD=n

# TCPC+PPC: ITE on-chip for C0, PS8745 (TCPCI) for optional C1
CONFIG_PLATFORM_EC_USB_PD_TCPM_ITE_ON_CHIP=y
CONFIG_PLATFORM_EC_USB_PD_TCPM_DRIVER_IT8XXX2=y
CONFIG_PLATFORM_EC_USB_PD_VBUS_DETECT_CHARGER=y
# SM5803 controls power path on both ports
CONFIG_PLATFORM_EC_USB_PD_5V_CHARGER_CTRL=y

# Charger driver and configuration
CONFIG_PLATFORM_EC_CHARGER_SM5803=y
CONFIG_PLATFORM_EC_OCPC_DEF_RBATT_MOHMS=21
