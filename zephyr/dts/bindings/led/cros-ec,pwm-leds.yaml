# Copyright 2021 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

description: PWM LED configuration

compatible: "cros-ec,pwm-leds"

include: base.yaml

properties:
  leds:
    type: phandles
    required: true
    description: |
      List of pwm-leds nodes. These are expected to have a pwms property
      pointing to the relevant PWMs, in red, green, blue and optionally sidesel
      order.

      For example
        pwmleds {
                compatible = "pwm-leds";
                pwm_led0: pwm_led_0 {
                        pwms = <&led3_red
                                &led2_green
                                &led1_blue
                                &led3_sidesel
                                >;
                };
        };
        cros-pwmleds {
                compatible = "cros-ec,pwm-leds";
                leds = <&pwm_led0>;
        };

  color-map-red:
    type: array
    required: true
    description: |
      A map of PWM duty cycles per color, up to three channels.

      For example
        color-map-red    = <100   0   0>;
        color-map-green  = <  0 100   0>;
        color-map-blue   = <  0   0 100>;
        color-map-yellow = <100  70   0>;
        color-map-white  = <100  70 100>;
        color-map-amber  = <100  20   0>;

  color-map-green:
    type: array
    required: true

  color-map-blue:
    type: array
    required: true

  color-map-yellow:
    type: array
    required: true

  color-map-white:
    type: array
    required: true

  color-map-amber:
    type: array
    required: true

  brightness-range:
    type: array
    required: true
    description: |
      A list of brigthness range value for all supported channels in order,
      Red, Green, Blue, Yellow, White, Amber (0 to 255).
