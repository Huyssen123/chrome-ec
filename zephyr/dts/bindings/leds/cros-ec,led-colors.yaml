# Copyright 2021 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

description: LED colors parent node

compatible: "cros-ec,led-colors"

child-binding:
    description: LED Color nodes to describe the policy combination a node
                 depends on, and the color to set to for that combination.
                 e.g. If Blue color needs to be set for charge state discharge
                 in S0, a node looks like
                 power-state-discharge-s0 {
                    charge-state = "PWR_STATE_DISCHARGE";
                    chipset-state = "POWER_S0";
                    color-0 {
                      led-color = "LED_BLUE";
                    };
                 };

    properties:
        charge-state:
            description: If the LED color depends on charge state, this
                         property is used to describe it.
            type: string
            required: false
            enum:
                - PWR_STATE_CHARGE
                - PWR_STATE_DISCHARGE
                - PWR_STATE_ERROR
                - PWR_STATE_IDLE
                - PWR_STATE_CHARGE_NEAR_FULL

        chipset-state:
            description: If the LED color depends on chipset state, this
                         property is used to describe it.
            type: string
            required: false
            enum:
                - POWER_S0
                - POWER_S3
                - POWER_S5

        extra-flag:
            description: If the LED color depends on additional factors
            type: string
            required: false
            enum:
                - NONE
                - LED_CHFLAG_FORCE_IDLE
                - LED_CHFLAG_DEFAULT
                - LED_BATT_BELOW_10_PCT
                - LED_BATT_ABOVE_10_PCT

    child-binding:
        description: Color enum
        properties:
            led-color:
                type: string
                required: true
                enum:
                    - LED_OFF
                    - LED_RED
                    - LED_GREEN
                    - LED_BLUE
                    - LED_YELLOW
                    - LED_WHITE
                    - LED_AMBER
            period-ms:
                description: In case of blinking LEDs, amount of time in msecs
                             the LED color is active. This value must be a
                             multiple of HOOK_TICK_INTERVAL_MS
                             e.g.
                             power-state-error {
                                charge-state = "PWR_STATE_ERROR";
                                /* One sec Amber, one sec Off */
                                color-0 {
                                  led-color = "LED_AMBER";
                                  period-ms = <1000>;
                                };
                                color-1 {
                                  led-color = "LED_OFF";
                                  period-ms = <1000>;
                                };
                             };
                type: int
                required: false
